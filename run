#!/bin/sh

set -e

python test_asm.py |ndisasm -b64 -

exit

case "$1" in
  *.c)    ./a.out "$1" && chmod +x out && ./out;;
  *.hs)   exec ghci "$1";;
  *.ml)   exec rlwrap ocaml;;
  *.py)   exec python mcc.py </dev/null;;
  *)      echo "cannot run '$1'";;
esac
